<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP32 Facial Recognition Attendance System</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>ESP32 Facial Recognition Attendance System</h1>
    </header>
    
    <nav>
        <ul>
            <li><a href="#" class="active" data-page="dashboard">Dashboard</a></li>
            <li><a href="#" data-page="users">Users</a></li>
            <li><a href="#" data-page="attendance">Attendance</a></li>
            <li><a href="#" data-page="register">Register User</a></li>
            <li><a href="#" data-page="settings">Settings</a></li>
        </ul>
    </nav>
    
    <main>
        <!-- Dashboard Page -->
        <section id="dashboard" class="page active">
            <h2>Dashboard</h2>
            <div class="stats-container">
                <div class="stat-card">
                    <h3>Total Users</h3>
                    <p id="total-users">0</p>
                </div>
                <div class="stat-card">
                    <h3>Present Today</h3>
                    <p id="present-count">0</p>
                </div>
                <div class="stat-card">
                    <h3>Late Today</h3>
                    <p id="late-count">0</p>
                </div>
                <div class="stat-card">
                    <h3>Absent Today</h3>
                    <p id="absent-count">0</p>
                </div>
                <div class="stat-card">
                    <h3>Dropped Users</h3>
                    <p id="dropped-count">0</p>
                </div>
            </div>
            
            <div class="recent-activity">
                <h3>Recent Activity</h3>
                <table id="activity-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>User</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Activity data will be filled dynamically -->
                    </tbody>
                </table>
            </div>
        </section>
        
        <!-- Users Page -->
        <section id="users" class="page">
            <h2>User Management</h2>
            <div class="filter-container">
                <input type="text" id="user-search" placeholder="Search users...">
                <select id="user-filter">
                    <option value="all">All Users</option>
                    <option value="active">Active Users</option>
                    <option value="dropped">Dropped Users</option>
                </select>
            </div>
            
            <table id="users-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Absences</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- User data will be filled dynamically -->
                </tbody>
            </table>
        </section>
        
        <!-- Attendance Page -->
        <section id="attendance" class="page">
            <h2>Attendance Records</h2>
            <div class="filter-container">
                <input type="date" id="attendance-date" value="">
                <select id="attendance-filter">
                    <option value="all">All Status</option>
                    <option value="present">Present</option>
                    <option value="late">Late</option>
                    <option value="absent">Absent</option>
                </select>
            </div>
            
            <table id="attendance-table">
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>User ID</th>
                        <th>Name</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Attendance data will be filled dynamically -->
                </tbody>
            </table>
        </section>
        
        <!-- Register User Page -->
        <section id="register" class="page">
            <h2>Register New User</h2>
            <div class="register-container">
                <div class="form-group">
                    <label for="user-id">User ID:</label>
                    <input type="text" id="user-id" placeholder="Enter user ID">
                </div>
                
                <div class="form-group">
                    <label for="user-name">Full Name:</label>
                    <input type="text" id="user-name" placeholder="Enter full name">
                </div>
                
                <div class="camera-container">
                    <h3>Face Capture</h3>
                    <div id="camera-status">Camera feed not available</div>
                    <div class="button-group">
                        <button id="capture-btn" disabled>Capture Face</button>
                        <button id="register-btn" disabled>Register User</button>
                    </div>
                </div>
                
                <div id="registration-message"></div>
            </div>
        </section>
        
        <!-- Settings Page -->
        <section id="settings" class="page">
            <h2>System Settings</h2>
            <div class="settings-container">
                <div class="form-group">
                    <label for="attendance-start">Attendance Start Time:</label>
                    <input type="time" id="attendance-start" value="08:00">
                </div>
                
                <div class="form-group">
                    <label for="late-threshold">Late Threshold (minutes):</label>
                    <input type="number" id="late-threshold" value="15" min="0" max="60">
                </div>
                
                <div class="form-group">
                    <label for="absent-threshold">Absent Threshold (minutes):</label>
                    <input type="number" id="absent-threshold" value="30" min="0" max="120">
                </div>
                
                <div class="form-group">
                    <label for="max-absences">Max Absences Before Drop:</label>
                    <input type="number" id="max-absences" value="3" min="1" max="10">
                </div>
                
                <div class="button-group">
                    <button id="save-settings-btn">Save Settings</button>
                    <button id="reset-system-btn" class="danger">Reset System</button>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2023 ESP32 Facial Recognition Attendance System</p>
    </footer>
    
    <script src="js/script.js"></script>
</body>
</html> 